---
title: docker设置HTTP代理拉取镜像
date: 2025-12-09 20:00:00 +0800
categories: [Linux,Docker]
tags: [docker设置代理]
---

在国内网络，不使用一些手段不能正常使用docker拉取镜像。
![](/assets/img/Pasted image 20251124173314.png)

不能拉取镜像，也就无从使用docker。

## 设置代理

以下是通过设置http/https代理拉取镜像的操作步骤和命令：

1. 为dockerd创建配置文件
```
sudo mkdir -p /etc/systemd/system/docker.service.d
```

2. 为docker创建配置网络代理的配置文件
```
vim /etc/systemd/system/docker.service.d/http-proxy.conf
```

3. 配置文件内容设置自己的代理地址
```
[Service]
Environment="HTTP_PROXY=http://192.168.1.2:7890/"
Environment="HTTPS_PROXY=http://192.168.1.2:7890/"
Environment="NO_PROXY=localhost,127.0.0.1"
```

4. 刷新docker配置并重启docker服务
```
sudo systemctl daemon-reload
sudo systemctl restart docker
```

5. 查看代理是否配置成功
```
docker info
```

  如果出现配置的代理内容说明配置成功
  ![](/assets/img/Pasted image 20251124172219.png)

6.docker search一下某个镜像
```
docker search nginx
```

搜索镜像成功
![](/assets/img/Pasted image 20251124173104.png)



