---
title: keepalived简介
date: 2025-12-26 14:00:00 +0800
categories: [高可用集群]
tags: [keepalived]
---
**1、什么是keepalived**

keepalived是使用C语言编写的路由热备软件，该项目主要是为linux系统提供简单高效的负载均衡以及高可用解决方案。

它通过一组检查器，根据服务器的健康状况动态的维护和管理服务器池，另外keepalived通过vrrp协议实现高可用架构，vrrp是路由灾备的实现基础。keepalived用来实现集群系统的高可用。

我们可以部署两台或更多的分发器，仅有一台调度器作为主服务器，其它备用，主服务器发生故障时，keepalived可以自动将备用调度器升级为主调度器，从而实现整个集群系统的高负载、高可用。


**2、vrrp协议**

vrrp协议是为了静态路由环境下防止单点故障而设计的主从灾备协议，在主设备发送故障时业务自动切换至从设备，而这一切对用户是透明的。

vrrp将两台及以上的设备虚拟成一个设备，对外只提供一个虚拟的IP地址（VIP），这些设备在同一时刻只有一台设备可以拥有该IP地址，而拥有该IP的设备就是主设备，其它的是备用设备。

主设备会不断发送自己的状态信息给从设备，当从设备收不到主设备的状态信息时，多个备用设备就会根据自身的优先级选择出新的主设备，并拥有所有的业务功能。

vrrp协议需要为每个路由设备定义一个虚拟路由ID（VRID）以及优先，所有主备路由设备的VRID必须一样，这样才会被视为同一组设备，而优先级最高的就是主设备，VRID和优先级的范围是0-255之间的整数，数值越大优先级越高，如果优先级相等，则会比对IP地址，地址越大优先级越高。


**3、部署keepalived**

```
dnf install -y keepalived
```

