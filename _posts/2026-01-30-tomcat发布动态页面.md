tomcat一般用来发布jsp网站，之前已经发布过静态网页了，现在准备发布动态网页，通过jpress（一个使用Java开发的建站软件）来实现（适合的环境：tomcat9 + jdk11，之前的环境不兼容，会出现成功解压jpress但还是404的情况）。

jpress下载
<https://github.com/JpressProjects/jpress>


**环境准备**

全部的命令
```
rpm -ivh jdk-11.0.29_linux-x64_bin.rpm
java --version
unzip apache-tomcat-9.0.115.zip -d /opt/ 
cd /opt/  
mv apache-tomcat-9.0.115 tomcat1
cd tomcat1/bin/
chmod +x catalina.sh
sh startup.sh
```
浏览器访问http://ip:8080检查tomcat是否部署成功

**步骤**

1、准备jsp页面


我的jpress war文件位置
```
/root/jpress-v5.1.2.war
```


```
# 1、将war包部署到tomcat
cp /root/jpress-v5.1.2.war /opt/tomcat1/webapps/jpress.war
cd /opt/tomcat1/bin/


# 2、重启tomcat
sh shutdown.sh
  
sh startup.sh

```

重启后tomcat会自己将这个war的压缩包解压，生成一个同名的目录。


2、准备数据库

我这里使用MariaDB数据库，比MySQL方便，这个数据库root用户默认空密码

```
dnf install mariadb-server -y
systemctl enable --now mariadb
systemctl is-active mariadb
```

```
# 1、登录MariaDB
[root@192 webapps]# mysql -u root -p
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 3
Server version: 10.11.15-MariaDB MariaDB Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

# 2、创建数据库，utf-8编码
MariaDB [(none)]> CREATE DATABASE jpress DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
Query OK, 1 row affected (0.000 sec)

# 3、创建专用用户并授权，然后刷新权限
MariaDB [(none)]> CREATE USER 'jpress'@'localhost' IDENTIFIED BY 'jpress123';
Query OK, 0 rows affected (0.001 sec)

MariaDB [(none)]> GRANT ALL PRIVILEGES ON jpress.* TO 'jpress'@'localhost';
Query OK, 0 rows affected (0.001 sec)

MariaDB [(none)]> FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.000 sec)

MariaDB [(none)]> 
```

用户名jpress，密码jpress123，数据库名jpress

3、安装jpress

打开浏览器访问http://ip:8080/jpress/
![[Pasted image 20260201181017.png]]
第一次访问会进入jpress的安装向导

配置好安装信息即可，jpress会自动创建数据库表
![[Pasted image 20260201181146.png]]

网站内容设置以及管理员账户设置
![[Pasted image 20260201181326.png]]

访问jpress首页，http://ip:8080/jpress/
![[Pasted image 20260201181744.png]]


安装完成可以进入登录后台http://ip:8080/jpress/admin
输入刚刚配置的管理员账号密码即可







