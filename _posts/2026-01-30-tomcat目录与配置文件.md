---
title: tomcat目录与配置文件
date: 2026-01-30 12:00:00 +0800
categories: [web服务器,tomcat]
tags: [tomcat]
---
**一、tomcat目录说明**

tomcat主目录
```
bin：命令，存放不同平台上启动或关闭的脚本 
BUILDING.txt&RUNNING.txt：使用文档，告诉用户如何搭建 
conf：各种全局配置文件，最主要的是server.xml和web.xml    
CONTRIBUTING.md：捐赠 
lib：tomcat需要用到的库，主要是各种jar包 
LICENSE：许可 
logs：存放tomcat的日志 
NOTICE：通知信息 
README.md：读我文档 
RELEASE-NOTES：版本信息 
temp：临时文件    
webapps：tomcat的web发布目录，类似于nginx或者apache的html目录   
work：tomcat的工作目录，存放的是jsp编译后产生的.class文件及.java文件。清空work目录，然后重启tomcat，可以达到清除缓存的作用。
```


bin目录
```
bin目录下的文件主要有两类，一个是Linux使用的.sh结尾的文件，另外一个是windows使用的.bat结尾的文件，
catalina    tomcat的设置脚本，也可以启动&关闭tomcat 

[root@192 bin]# sh catalina.sh help
Using CATALINA_BASE:   /opt/tomcat1
Using CATALINA_HOME:   /opt/tomcat1
Using CATALINA_TMPDIR: /opt/tomcat1/temp
Using JRE_HOME:        /usr
Using CLASSPATH:       /opt/tomcat1/bin/bootstrap.jar:/opt/tomcat1/bin/tomcat-juli.jar
Using CATALINA_OPTS:   
Usage: catalina.sh ( commands ... )
commands:
  debug             Start Catalina in a debugger
  debug -security   Debug Catalina with a security manager
  jpda start        Start Catalina under JPDA debugger
  run               Start Catalina in the current window
  run -security     Start in the current window with security manager
  start             Start Catalina in a separate window
  start -security   Start in a separate window with security manager
  stop              Stop Catalina, waiting up to 5 seconds for the process to end
  stop n            Stop Catalina, waiting up to n seconds for the process to end
  stop -force       Stop Catalina, wait up to 5 seconds and then use kill -KILL if still running
  stop n -force     Stop Catalina, wait up to n seconds and then use kill -KILL if still running
  configtest        Run a basic syntax check on server.xml - check exit code for result
  version           What version of tomcat are you running?
Note: Waiting for the process to end and use of the -force option require that $CATALINA_PID is defined


startup     启动脚本 
shutdown    关闭脚本
```

conf目录
```
这个目录下主要存放的是与tomcat设置相关的文件，常用的配置文件主要包含 
server.xml  可以设置端口号、设置域名或IP、默认加载的项目、请求编码 web.xml 可以设置tomcat支持的文件类型 
context.xml 可以用来配置数据源之类的 
tomcat-users.xml    用来配置管理tomcat的用户与权限 
Catalina                    此目录下可以设置默认加载的项目
```

webapps目录
```
ROOT    tomcat默认的页面 
docs    使用说明文档 
examples    例子--tomcat首页中的examples按钮对应的内容 
host-manager    首页Host Manager按钮对应的内容 
manager     首页 Manager App按钮对应的内容
```


**二、tomcat相关配置文件简介**

server.xml

它决定tomcat监听哪些端口，使用什么协议，是否启用AJP/HTTPS。不会热加载，改完必须重启。



web.xml

默认web应用的首页文件的设置

报错文件的设置

session会话过期时间的设置，单位是分钟

servlet的设置（Java Servlet的简称，被称为小服务程序或服务连接器，用Java写的服务端程序，具有独立于平台和协议的特性，主要功能是交互式浏览和生成数据，生成动态web内容。）



tomcat-users.xml

管理用户配置文件

rolename 定义角色，不同的角色管理权限不同，相当于组
```
manager-gui 允许访问html接口(即URL路径为/manager/html/*) 
manager-script  允许访问纯文本接口(即URL路径为/manager/text/*) 
manager-jmx 允许访问JMX代理接口(即URL路径为/manager/jmxproxy/*) 
manager-status  允许访问Tomcat只读状态页面(即URL路径为/manager/status/*) 
admin-gui 允许访问html管理界面 
admin-script 允许访问文本管理界面
```


user
```
username  定义用户名
password   设置密码
roles     属于哪些角色/组
```

