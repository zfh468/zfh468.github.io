**一、用户信息查询**

```
# 查看当前用户的信息
id

# 查看指定用户的信息
id username

# 查看谁在登录
who
w

# 查看当前登录用户
whoami
```

![[Pasted image 20260211002154.png]]

root用户的uid、gid都是0



**二、用户账号管理**

用户账号信息文件：
```
#相关文件
    /etc/passwd
           用户账户信息。

       /etc/shadow
           安全用户账户信息。

       /etc/group
           组账户信息。

       /etc/gshadow
           安全组账户信息。

       /etc/default/useradd
           账户创建的默认值。

       /etc/skel/
           包含默认文件的目录。

       /etc/subgid
           Per user subordinate group IDs.

       /etc/subuid
           Per user subordinate user IDs.

       /etc/login.defs
           Shadow 密码套件配置。
```

2.1、useradd添加用户

```
-u 指定uid

-g 指定gid

-c 注释信息

-d 家目录

-s 指定shell

-G 附加组

-r 创建系统用户
```


示例：
```
useradd -u 1020 -g 1001 -c "this is a test user" -d /home/test1 -G games test1
```

/etc/passwd的内容格式：
```
USERNAME:PASSWORD:UID:GID:COMMENT:HOMEDIR:SHELL  

- USERNAME:用户识别名称，也是登录的名称
- PASSWORD：密码位，用于存储用户的密码，为了安全起见，密码放在另一个文件中，这里统一用x
- UID：用户识别号，0表示为管理员，非0为普通用户
- GID：组识别号，用来识别用户组的身份，同样0为管理员组，非0为系统群组或者自定义组
- COMMENT：描述信息
- HOMEDIR：家目录位置
- SHELL：shell类型
```


2.2、usermod修改用户
```
# 把用户名user1重命名为user2
usermod -l user1 user2

# 锁定用户user1
usermod -L user1

# 解锁user1
usermod -U user1

# 将user1添加到附加组test,如果不加-a，用户的附加组只会有新加的这一个，之前的都会退出
usermod -aG test user1
```



2.3、userdel删除用户

```
# 删除user1用户，但不删除其家目录和文件
userdel user1

# 删除user1用户以及它的家目录及文件
userdel -r user1

# -f 强制删除
```





