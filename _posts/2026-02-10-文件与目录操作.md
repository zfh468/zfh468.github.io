---
title: linux ssh远程登录
date: 2026-02-10 12:00:00 +0800
categories: [Linux,系统管理]
tags: [Linux file operation]
---
**1、ls列出目录内容**


常用命令
```
# 显示当前目录下的文件和目录名
ls

# 显示文件和目录的权限、属主、属组、大小、修改时间
ls -l

# 显示所有文件，包括.开头的隐藏文件
ls -a

# 把文件大小的字节数转换成更容易看的kb、mb、gb
# ls -h 

# 组合命令：列出所有文件详细信息，并以易读格式显示其大小
ls -lah
```



排序与时间
```
# 按修改时间排序，最新的文件在最上面
ls -t

# 反向时间排序，最新的文件在最下面
ls -tr

# 按文件大小排序，大的文件在前
ls -S
```



辅助识别

```
# 加上类型标识。文件夹后加上 / ，可执行文件多出 *
ls -F

# 递归列出。连同子目录的内容一起显示
ls -R

# 查看文件inode号，排查硬链接会用到
ls -i
```

查看最近修改的10个文件：
```
ls -lt | head
```

使用通配符：
```
# 只看日志文件
ls *.log

# 只看当前目录下的文件夹
ls -d */
```


**2、cd切换工作目录**

```
# 切换到用户主目录
cd
cd ~

# 切换到上一个工作目录
cd -

# 切换到上级目录
cd ..

# 切换到上两级目录
cd ../..
```

**3、pwd显示当前工作目录**


**4、mkdir创建目录**

```
# 创建目录haha
mkdir haha

# 创建目录test1，并配置755权限
mkdir -m 755 test1

# 递归创建目录
mkdir -p test1/haha
```


**5、rmdir删除空目录**

```
# 删除子目录haha和test1
rmdir -p test1/haha
```

-p代表从该目录起，一次删除多级空目录


**6、cp拷贝文件或目录**

```
# 将file1复制并重命名为file2
cp file1 file2 

# 将file1复制到/tmp/目录下，并保持原名
cp file1 /tmp/

# -r复制目录的全部内容
cp -r /source_dir /dest_dir

# -p保留属性，即原文件的修改时间、权限和所有者信息
cp -p sourcefile destfile

# -a，相当于 -dr --preserve=all。不仅能递归复制，还能保留链接、权限、时间戳等所有元数据，常用于完整备份
cp -a /test /backup/test.bak

# -i安全模式，如果目标文件已存在，会询问你是否覆盖，在操作重要文件推荐使用
cp -i /var/log/lastlog /backup/lastlog.bak
```

备份技巧：
```
cp file1.conf{,.bak}
# 等同于
cp file1.conf file1.conf.bak
```



**7、rm删除文件或目录**

```
rm 文件或目录

# 删除前询问是否删除
rm -i 1.txt

# 强制删除，不会输出警告
rm -f file1

# 递归删除，删除目录常用
rm -r test
```



**8、mv移动文件或目录、重命名**

```
# 将file1重命名为file2
mv file1 file2

# 将/haha/test目录移动到 /k1/目录下
mv /haha/test /k1/

# 将/haha/test目录移动到 /k1/目录下，并重命名为t1
mv /haha/test /k1/t1
```


**9、touch创建空文件**

```
touch e.txt
```

创建一个e.txt文件，里面的内容为空。


**10、tree树状显示目录结构**
```
tree /var/log/apt
```

效果如图：
![[Pasted image 20260210170245.png]]

常用参数：
- -d，只看目录，其他文件隐藏，只显示文件夹结构
- -L，控制树状图的显示层级。tree -L 2 表示只查看当前目录下2层深度内容。可以防止子目录太多导致刷屏
- -a，显示隐藏文件
- -I，排除特定目录。如果要排除多个目录用引号配合`|`排除。
  ```
- ```
  tree -I "term.log" /var/log/apt
  ```
  ![[Pasted image 20260210171314.png]]
- -P，只看特定类型。只列出符合模式的文件。`tree -P "*.sh"`代表只列出.sh结尾的文件

查看某个项目的目录结构：
```
tree -L 2 -F > structure.txt
```

这会把前两层的结构，带上目录标识`/`，直接保存到文本文件里。



**11、locate和find查找文件**

locate

locate查找文件的速度比find快得多，因为它不搜索具体目录，而是搜索一个数据库/var/lib/locatedb，这个数据库存储着本地所有文件信息。Linux自动创建这个数据库，并每天自动更新一次，因此locate命令查不到最近变动过的文件。解决方法：使用updatedb命令手动更新数据库。

```
# 查找与ls相关的所有文件
locate ls

# 查找/var/log目录下所有lastlog开头的文件
locate /var/log/lastlog
```
![[Pasted image 20260210172554.png]]



find

find命令用来在指定位置查找文件，它可以根据文件名、属性（时间、权限、大小、类型）进行深度搜索。

基本语法：
`find 搜索范围 匹配条件 后续动作`

1、按文件名搜索
```
# 在当前目录下查找名为test.txt的文件
find . -name "test.txt"

# 在/home查找所有jpg图片，并忽略大小写
find /home -iname "*.jpg"
```


2、按文件类型搜索
```
find /etc -type d

find /bin -type f

find /dev -type l
```


3、按文件大小搜索
```
find . -size +100M

find . -size -10k
```


4、按时间搜索
```
find /var/log -mtime -1

find /tmp -atime +7
```


5、找到文件的后续动作

find命令可以接-exec参数对搜索结果执行命令,{}代表搜索到的所有文件，\是固定后缀，表示命令结束。
```
find . -name "*.txt" -exec rm -rf {} \;

find . -type d -exec chmod 755 {} \;
```

技巧：
```
# 加上2>/dev/null防止报错刷屏(在根目录搜索时，常会因为权限不足弹出大量permission denied)
find / -name "config.py" 2>/dev/null

# 找大于10M的日志文件
find . -type f -name "*.log" -size +10M
```
