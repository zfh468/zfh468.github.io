---
title: 打包和安装
date: 2026-02-15 20:00:00 +0800
categories: [Linux,系统管理]
tags: [Packaging]
---
**1、打包（归档）**

打包：把多个文件装进一个文件里，合并起来方便传输和管理。常用的工具是`tar`。

打包
```
tar -cvf test.tar file1 file2 file3
```
-c=create，创建。-v=显示工程。-f=指定打包文件名

取出包文件
```
tar -xvf test.tar
```


**2、压缩和解压缩**

2.1、tar

tar压缩
```
tar -zcvf haha.tar.gz file1
```

tar解压缩
```
tar -zxvf haha.tar.gz
```


2.2、zip

zip压缩
```
zip -r haha.zip [目标文件夹]
```

unzip解压缩
```
unzip haha.zip
```


2.3、gzip

gzip压缩
```
gzip -r [文件夹]
```

gunzip解压缩
```
gunzip [目标文件]
```


========================================

**3、包管理**

3.1、rpm包管理
```
# 1、安装软件包
rpm -ivh [rpm包名]

# 2、升级软件
rpm -Uvh [包名]

# 3、卸载软件
rpm -e [包名]

# 4、查看所有安装的软件
rpm -qa 

# 5、查看这个包的用途
rpm -qi [包名]

# 6、查看包被安装在哪里
rpm -ql [包名]

# 7、通过目录寻找属于哪个包
rpm -qf /usr/bin/jsonpointer

# 8、查看包的依赖关系
rpm -qR [包名]

# 9、校验软件
rpm -Va

# 10、校验更改的地方
rpm -V httpd
```

3.2、yum

```
yum list httpd

yum -y install [软件包名]

yum remove [软件包名]

# 查看当前启用的软件源
yum repolist

# 组安装软件
yum groupinstall [软件组名]

yum update
yum update nginx

# 检查可更新程序
yum check-update

# 升级指定程序包
yum upgrade [软件包名]

# 升级程序组
yum groupupdate [软件组名]

# 显示安装的软件包信息
yum info [包名]

# 查看已安装和可以安装的软件包
yum list

# 查看软件组信息
yum groupinfo [软件组名]

# 关键词搜索软件包
yum search <关键词>

# 删除软件组
yum groupremove [软件组名]

```

dnf用法和yum类似。

yum和dnf软件源文件位置`/etc/yum.repos.d/`，这个目录里存放着后缀为`.repo`的文件，它是一个文本配置文件，配置软件源的时候会用到。


3.3、apt
```
# 更新软件源列表
apt update
#升级已安装软件
apt upgrade -y
apt install [软件包名]

# 删除nginx，保留配置文件
apt remove nginx
# 删除nginx，包括配置文件
apt purge nginx

# 自动清除不需要的依赖
apt autoremove

# 全面升级，可能涉及内核
apt full-upgrade

# 搜索MySQL软件包
apt search mysql

# 查看已安装软件
apt list --installed

# 查看软件信息
apt show nginx

```

apt软件源配置位置`/etc/apt/sources.list`




3.4、源码编译安装

如果下载了软件的源码包

ubuntu编译安装apache
```
# 1、运行configure脚本，指定安装目录
./configure --prefix=/usr/local/apache2

# 2、根据Makefile编译源码
make

# 3、根据Makefile里的install规则，将编译好的文件复制到你指定的prefix目录
make install

# 4、递归强制删除目录，如果你要卸载apache2
# 源码安装的软件没有卸载命令，只能手动删除安装目录
rm -rf /usr/local/apache2
```


================================

linux软件体系介绍

在Linux，软件主要形式有两种，一是源码包，后缀通常为.tar.gz；二是二进制包，是已经编译好的程序，直接使用包管理器安装即可，主要格式为rpm和deb包。


GPL授权

全称 GNU General Public License ，是一个自由软件授权协议，允许自由使用，修改源码以及传播修改后的软件。


二进制包的命名规则：包名-版本号-发布次数-发行商-linux平台-适合的硬件平台-包拓展名

比如httpd-x.x.x-12.xxx-centos-i386.rpm

可以拆解为：

|字段|含义|
|---|---|
|httpd|软件名称（Apache HTTP Server）|
|x.x.x|软件版本号（例如 2.4.57）|
|12.xxx|发布次数 / 打包编号（Release）|
|centos|发行商 / 发行版（Red Hat / CentOS / Fedora 等）|
|i386|硬件架构（CPU 架构）|
|rpm|包类型（RPM 二进制包）|

硬件架构说明：

|架构|含义|备注|
|---|---|---|
|i386|Intel 80386 / 32 位 CPU|最基础的 32 位|
|i586|Intel Pentium 系列 / 32 位|i386 的升级|
|i686|Intel Pentium Pro 及以上 / 32 位|支持更高级指令集|
|x86_64|64 位 CPU|支持 64 位系统|
|noarch|无硬件依赖|脚本、配置文件、字体等可通用|
安装包必须与系统架构相匹配，否则无法安装或允许。





