添加一块硬盘，需要将其分区，最终需要使用2G空间。

思路：
1. 增加一块硬盘
2. 使用fdisk命令进行分区
3. 格式化指定分区
4. 创建一个空的目录作为挂载点
5. 挂载使用
6. 创建新的挂载点
7. 挂载使用


1、增加硬盘，加完重启系统，lsblk查看是否添加成功
```
nvme0n2            259:3    0   10G  0 disk
```

```
[root@localhost ~]# fdisk -l /dev/nvme0n2
Disk /dev/nvme0n2: 10 GiB, 10737418240 bytes, 20971520 sectors
Disk model: VMware Virtual NVMe Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
```

2、fdisk命令分区
```
[root@localhost ~]# fdisk /dev/nvme0n2

Welcome to fdisk (util-linux 2.37.4).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0x72031636.

# 1、n创建新分区
Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
 
# 2、p选择主分区
Select (default p): p

# 3、分区号设置
Partition number (1-4, default 1): 1
# 4、起始扇区，直接回车
First sector (2048-20971519, default 2048): 
# 5、指定大小2G
Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-20971519, default 20971519): +2G

Created a new partition 1 of type 'Linux' and of size 2 GiB.

# 6、保存退出
Command (m for help): w
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.
```

3、刷新分区表
```
partprobe
```

lsblk命令查看
![](/assets/img/Pasted image 20260227070951.png)

看到/dev/nvme0n2p1 ，大小为2G



4、格式化分区

使用ext4文件系统
```
mkfs.ext4 /dev/nvme0n2p1
```


5、创建挂载点
```
mkdir /data
```

6、手动挂载使用
```
mount /dev/nvme0n2p1 /data
```

查看挂载结果
```
df -h
```
![](/assets/img/Pasted image 20260227071250.png)

测试是否可写
![](/assets/img/Pasted image 20260227071333.png)

7、取消挂载
```
umount /data
```
![](/assets/img/Pasted image 20260227071415.png)

8、设置开机自动挂载
```
vi /etc/fstab
```

添加一行
```
/dev/nvme0n2p1    /data    ext4    defaults    0 0
```


测试配置是否有误，无报错说明成功
```
mount -a
```

重新df -h，看看是否挂载成功


