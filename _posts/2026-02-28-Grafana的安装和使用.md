---
title: Grafana的安装和使用
date: 2026-02-28 03:00:00 +0800
categories: [prometheus + grafana]
tags: [grafana]
---
Prometheus的监控页面比较难看，需要Grafana的可视化展示，以及报警


在192.168.88.137部署Grafana

## 一、部署Grafana

下载地址<https://grafana.com/grafana/download>



1.1、安装并启动Grafana
```
# 安装软件包
yum install -y https://dl.grafana.com/grafana/release/12.4.0/grafana_12.4.0_22325204712_linux_amd64.rpm


# 启动Grafana
systemctl enable --now grafana-server

# 验证启动
lsof -i :3000
```

放行3000
```
firewall-cmd --permanent --add-port=3000/tcp
firewall-cmd --reload
```


启动成功后，可以访问grafana的web页面


浏览器访问http://192.168.88.137:3000

输入账号密码，默认admin/admin

如图代表Grafana安装成功并开始工作了
![[Pasted image 20260228093226.png]]


输入账号密码登录时，由于是第一次登录，为了安全必须更改密码才能登录

输入两次新密码，点击save即可登录


## 二、添加Prometheus数据源


点击connections > data sources > add data sources，选择Prometheus

设置Prometheus数据源地址http://192.168.88.137:9090

点击save&test


回到数据源页面，此时已经出现Prometheus的数据源
![[Pasted image 20260228093658.png]]

## 三、绘制图形


#### 3.1、仪表盘管理

仪表盘可以自定义，但是相比自己创建仪表盘和面板，更省时高效的方法是直接导入现成的仪表盘模板

寻找地址 <https://grafana.com/grafana/dashboards>

在搜索框输入关键词搜索，通过ID或者JSON导入都可以


在Grafana的仪表盘页面，导入仪表盘


选择数据源，导入

查看仪表盘
![[Pasted image 20260228095232.png]]







#### 3.2、用户设置

这个用户添加，采用的是邀请机制，也就是需要我们生成邀请链接，然后发给对应用户，对方访问相应的注册链接，这样，该用户才能添加成功


左侧菜单栏 > Administration > Users and access > Users

点击Organization users

输入想添加的用户，点击invite
![[Pasted image 20260228100108.png]]


填好基本信息，submit
![[Pasted image 20260228100200.png]]


点击Pending Invites
![[Pasted image 20260228100306.png]]

点击copy invite，复制邀请链接
发给对应的用户，对方访问这个连接进行注册


我这里使用另一台虚拟机来操作

浏览器访问邀请链接

![[Pasted image 20260228100815.png]]
设置好密码即可注册该用户并登录


回到Grafana的用户管理页面，此时用户rains添加成功
![[Pasted image 20260228100940.png]]

